{"ast":null,"code":"import React,{useState}from\"react\";import{Chessboard}from\"react-chessboard\";import{Chess}from\"chess.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[game,setGame]=useState(new Chess());const[history,setHistory]=useState([]);// Clone safely\nconst safeGameMutate=modify=>{const updated=new Chess(game.fen());modify(updated);setGame(updated);};// Handle human move\nconst onDrop=async(sourceSquare,targetSquare)=>{let move=null;safeGameMutate(g=>{move=g.move({from:sourceSquare,to:targetSquare,promotion:\"q\"});});if(move===null)return false;setHistory(prev=>[...prev,\"You: \".concat(move.san)]);// Request AI move\nconst response=await fetch(\"/api/move\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({fen:game.fen()})});const data=await response.json();const aiMove=data.move;safeGameMutate(g=>{g.move(aiMove);});setHistory(prev=>[...prev,\"AI: \".concat(aiMove)]);return true;};// Start new game\nconst newGame=()=>{setGame(new Chess());setHistory([]);};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",height:\"100vh\",background:\"#2e7d32\",color:\"white\",fontFamily:\"Arial, sans-serif\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:3,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(Chessboard,{position:game.fen(),onPieceDrop:onDrop,boardWidth:600})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:\"20px\",background:\"#1b5e20\",overflowY:\"auto\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Move History\"}),/*#__PURE__*/_jsx(\"ol\",{children:history.map((h,idx)=>/*#__PURE__*/_jsx(\"li\",{children:h},idx))}),/*#__PURE__*/_jsx(\"button\",{onClick:newGame,style:{marginTop:\"20px\",padding:\"10px 20px\",background:\"#66bb6a\",border:\"none\",borderRadius:\"5px\",color:\"white\",fontWeight:\"bold\",cursor:\"pointer\"},children:\"New Game\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","Chessboard","Chess","jsx","_jsx","jsxs","_jsxs","App","game","setGame","history","setHistory","safeGameMutate","modify","updated","fen","onDrop","sourceSquare","targetSquare","move","g","from","to","promotion","prev","concat","san","response","fetch","method","headers","body","JSON","stringify","data","json","aiMove","newGame","style","display","height","background","color","fontFamily","children","flex","justifyContent","alignItems","position","onPieceDrop","boardWidth","padding","overflowY","map","h","idx","onClick","marginTop","border","borderRadius","fontWeight","cursor"],"sources":["/Users/fadiluddin/Projects/chess-ai-app/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Chessboard } from \"react-chessboard\";\nimport { Chess } from \"chess.js\";\n\nfunction App() {\n  const [game, setGame] = useState(new Chess());\n  const [history, setHistory] = useState([]);\n\n  // Clone safely\n  const safeGameMutate = (modify) => {\n    const updated = new Chess(game.fen());\n    modify(updated);\n    setGame(updated);\n  };\n\n  // Handle human move\n  const onDrop = async (sourceSquare, targetSquare) => {\n    let move = null;\n    safeGameMutate((g) => {\n      move = g.move({\n        from: sourceSquare,\n        to: targetSquare,\n        promotion: \"q\",\n      });\n    });\n    if (move === null) return false;\n\n    setHistory((prev) => [...prev, `You: ${move.san}`]);\n\n    // Request AI move\n    const response = await fetch(\"/api/move\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ fen: game.fen() }),\n    });\n    const data = await response.json();\n    const aiMove = data.move;\n\n    safeGameMutate((g) => {\n      g.move(aiMove);\n    });\n    setHistory((prev) => [...prev, `AI: ${aiMove}`]);\n\n    return true;\n  };\n\n  // Start new game\n  const newGame = () => {\n    setGame(new Chess());\n    setHistory([]);\n  };\n\n  return (\n    <div style={{ display: \"flex\", height: \"100vh\", background: \"#2e7d32\", color: \"white\", fontFamily: \"Arial, sans-serif\" }}>\n      {/* Chessboard */}\n      <div style={{ flex: 3, display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n        <Chessboard\n          position={game.fen()}\n          onPieceDrop={onDrop}\n          boardWidth={600}\n        />\n      </div>\n\n      {/* Sidebar */}\n      <div style={{ flex: 1, padding: \"20px\", background: \"#1b5e20\", overflowY: \"auto\" }}>\n        <h2>Move History</h2>\n        <ol>\n          {history.map((h, idx) => (\n            <li key={idx}>{h}</li>\n          ))}\n        </ol>\n        <button\n          onClick={newGame}\n          style={{\n            marginTop: \"20px\",\n            padding: \"10px 20px\",\n            background: \"#66bb6a\",\n            border: \"none\",\n            borderRadius: \"5px\",\n            color: \"white\",\n            fontWeight: \"bold\",\n            cursor: \"pointer\",\n          }}\n        >\n          New Game\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}